{% extends "::base.html.twig" %}

{% block title %}AppBundle:Topic:index{% endblock %}

{% block body %}
<h3>Welcome to the Topic : '{{ topic.title }}'</h3>

<a href="{{ path('app_post_add', {forum_id: topic.forum.id, topic_id: topic.id}) }}">
    <button class="btn waves-effect waves-light">
        New message <i class="material-icons right">send</i>
    </button>
</a>

<a href="{{ path('app_topic_remove', {forum_id: topic.forum.id, id: topic.id}) }}">
    <button class="btn waves-effect waves-light red">
        Remove topic <i class="material-icons right">delete_forever</i>
    </button>
</a>

{% for post in topic.posts %}
<div class="row">
	<div class="col s12 m12">
		<div class="card blue-grey darken-1">
			<div class="card-content white-text">
				<span class="card-title">By {{ post.author }} at {{ post.creation | date }}</span>
				<p>
					<blockquote>{{ post.content }}</blockquote>
				</p>
			</div>
			<div class="card-action">
				<a href="{{ path('app_post_remove', {forum_id: topic.forum.id, topic_id: topic.id, id: post.id}) }}">Remove</a>
			</div>
		</div>
	</div>
</div>
{% endfor %}

{% endblock %}
